# حسابات المستخدمين التجريبية

## نظرة عامة
يحتوي هذا الملف على معلومات الحسابات التجريبية المختلفة لاختبار نظام الصلاحيات (RBAC) في التطبيق.

## كيفية إنشاء الحسابات

### الخطوة 1: تشغيل ملف إنشاء المستخدمين
1. افتح Supabase Dashboard
2. اذهب إلى SQL Editor
3. انسخ محتوى ملف `supabase/users-seed.sql`
4. الصق المحتوى واضغط "Run"

### الخطوة 2: التحقق من إنشاء الحسابات
ستظهر رسالة تأكيد مع تفاصيل المستخدمين المُنشأين.

## الحسابات المتاحة

### 1. مدير النظام (Admin)
- **البريد الإلكتروني**: `admin@test.company-os.com`
- **كلمة المرور**: `Admin123!`
- **الاسم**: مدير النظام
- **الصلاحيات**: 
  - عرض جميع البيانات
  - إنشاء وتعديل وحذف جميع السجلات
  - إدارة المستخدمين والإعدادات
  - تحويل العملاء المحتملين

### 2. مدير المبيعات (Sales Manager)
- **البريد الإلكتروني**: `sales.manager@test.company-os.com`
- **كلمة المرور**: `Sales123!`
- **الاسم**: أحمد المدير
- **الصلاحيات**:
  - عرض جميع البيانات
  - إنشاء وتعديل العملاء والعملاء المحتملين
  - تحويل العملاء المحتملين
  - لا يمكن حذف السجلات

### 3. مندوب مبيعات (Sales Rep)
- **البريد الإلكتروني**: `sales.rep@test.company-os.com`
- **كلمة المرور**: `Rep123!`
- **الاسم**: فاطمة المندوبة
- **الصلاحيات**:
  - عرض جميع البيانات
  - إنشاء عملاء وعملاء محتملين جدد
  - تعديل وحذف السجلات التي يملكها فقط
  - تحويل العملاء المحتملين التي يملكها فقط

### 4. مستخدم عادي (Viewer)
- **البريد الإلكتروني**: `viewer@test.company-os.com`
- **كلمة المرور**: `View123!`
- **الاسم**: محمد المشاهد
- **الصلاحيات**:
  - عرض البيانات فقط
  - لا يمكن إنشاء أو تعديل أو حذف أي سجلات

## اختبار الصلاحيات

### ما يمكن اختباره:

#### في صفحة العملاء المحتملين (`/leads`):
1. **مدير النظام**: يرى جميع الأزرار (عرض، تعديل، حذف، تحويل)
2. **مدير المبيعات**: يرى أزرار (عرض، تعديل، تحويل) - لا يرى زر الحذف
3. **مندوب المبيعات**: يرى جميع الأزرار فقط للسجلات التي يملكها
4. **المستخدم العادي**: يرى زر العرض فقط

#### في صفحة جهات الاتصال (`/contacts`):
1. **مدير النظام**: صلاحيات كاملة
2. **مدير المبيعات**: يمكن إنشاء وتعديل، لا يمكن حذف
3. **مندوب المبيعات**: يمكن تعديل وحذف جهات الاتصال التي يملكها فقط
4. **المستخدم العادي**: عرض فقط

## ملاحظات مهمة

### الأمان:
- هذه الحسابات للتطوير والاختبار فقط
- لا تستخدم هذه الحسابات في بيئة الإنتاج
- كلمات المرور بسيطة لسهولة الاختبار

### استكشاف الأخطاء:
- إذا لم تعمل الحسابات، تأكد من تشغيل `contacts-migration.sql` أولاً
- تأكد من وجود جدول `profiles` في قاعدة البيانات
- تحقق من إعدادات RLS في Supabase

### إضافة مستخدمين جدد:
يمكنك إضافة مستخدمين جدد عبر:
1. واجهة التسجيل العادية في التطبيق
2. تعديل ملف `users-seed.sql` وإضافة مستخدمين جدد
3. استخدام Supabase Auth API

## الخطوات التالية

1. قم بتسجيل الدخول بكل حساب لاختبار الصلاحيات
2. جرب إنشاء وتعديل وحذف السجلات
3. تحقق من ظهور/إخفاء الأزرار حسب الصلاحيات
4. اختبر تحويل العملاء المحتملين إلى عملاء
5. تأكد من أن مندوبي المبيعات يرون سجلاتهم فقط للتعديل/الحذف